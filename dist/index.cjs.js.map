{"version":3,"file":"index.cjs.js","sources":["../node_modules/spark-md5/spark-md5.js","../src/index.ts"],"sourcesContent":["(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","import SparkMD5 from 'spark-md5';\nimport pLimit from 'p-limit';\n\ndeclare global {\n  interface Worker {\n    postMessage(message: any, transfer: Transferable[]): void;\n  }\n}\n\n// 新增 Chunk 类型扩展 Blob\ninterface Chunk extends Blob {\n  fileId: string; // 用于关联原始文件\n}\n\nexport interface ProgressData {\n  name?: string;\n  current: number;\n  total: number;\n  percent: string;\n}\n\nexport interface HashOptions {\n  chunkSize?: number;\n  useWorkerThreshold?: number;\n  onProgress?: (data: ProgressData) => void;\n}\n\nexport interface AllHashOptions extends HashOptions {\n  maxConcurrency?: number;\n  onFileProgress?: (data: ProgressData & { file: string }) => void;\n  onTotalProgress?: (data: Omit<ProgressData, 'name'>) => void;\n}\n\nexport interface HashResult {\n  name: string;\n  hash: string | null;\n  error?: Error;\n}\n\n// 修改 createChunks 返回 Chunk 类型\nexport const createChunks = (file: File, chunkSize: number): Chunk[] => {\n  const chunks: Chunk[] = [];\n  for (let i = 0; i < file.size; i += chunkSize) {\n    const end = Math.min(i + chunkSize, file.size);\n    const chunk = file.slice(i, end) as Chunk;\n    chunk.fileId = file.name; // 注入文件名标识\n    chunks.push(chunk);\n  }\n  return chunks;\n};\n\n// 单线程处理（修复 name 来源）\nexport const singleThreadHash = async (\n  chunks: Chunk[],\n  fileName: string, // 新增 fileName 参数\n  onProgress?: (data: ProgressData) => void\n): Promise<string> => {\n  const spark = new SparkMD5.ArrayBuffer();\n  \n  for (let i = 0; i < chunks.length; i++) {\n    const buffer = await new Promise<ArrayBuffer>((resolve) => {\n      const reader = new FileReader();\n      reader.onload = (e) => resolve(e.target?.result as ArrayBuffer);\n      reader.readAsArrayBuffer(chunks[i]);\n    });\n\n    spark.append(buffer);\n    \n    onProgress?.({\n      current: i + 1,\n      total: chunks.length,\n      percent: ((i + 1) / chunks.length * 100).toFixed(1),\n      name: fileName // 使用传入的文件名\n    });\n  }\n  \n  return spark.end();\n};\n\n// 多线程处理（新增 fileName 参数）\nexport const multiThreadHash = (\n  chunks: Chunk[],\n  fileName: string, // 新增 fileName 参数\n  onProgress?: (data: ProgressData) => void\n): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const workerCount = Math.min(navigator.hardwareConcurrency || 4, chunks.length);\n    const workers: Worker[] = [];\n    let currentIndex = 0;\n    let processedChunks = 0;\n    const spark = new SparkMD5.ArrayBuffer();\n\n    const createWorker = (): Worker => {\n      const workerCode = `\n        self.onmessage = async ({ data: { index, chunk } }) => {\n          try {\n            const buffer = await chunk.arrayBuffer();\n            self.postMessage({ index, buffer }, [buffer]);\n          } catch (error) {\n            self.postMessage({ \n              index, \n              error: error instanceof Error ? error.message : String(error)\n            });\n          }\n        };\n      `;\n      return new Worker(URL.createObjectURL(new Blob([workerCode])));\n    };\n\n    const handleMessage = (worker: Worker) => \n      (e: MessageEvent<{ index: number; buffer?: ArrayBuffer; error?: string }>) => {\n        const { index, buffer, error } = e.data;\n\n        if (error) {\n          workers.forEach(w => w.terminate());\n          reject(new Error(`分块处理错误: ${error}`));\n          return;\n        }\n\n        if (!buffer) {\n          workers.forEach(w => w.terminate());\n          reject(new Error(`分块数据为空: ${index}`));\n          return;\n        }\n\n        spark.append(buffer);\n        processedChunks++;\n\n        onProgress?.({\n          current: processedChunks,\n          total: chunks.length,\n          percent: ((processedChunks / chunks.length) * 100).toFixed(1),\n          name: fileName // 使用传入的文件名\n        });\n\n        if (currentIndex < chunks.length) {\n          const chunk = chunks[currentIndex];\n          worker.postMessage(\n            { index: currentIndex, chunk },\n            [chunk]\n          );\n          currentIndex++;\n        } else {\n          worker.terminate();\n        }\n\n        if (processedChunks === chunks.length) {\n          workers.forEach(w => w.terminate());\n          resolve(spark.end());\n        }\n      };\n\n    for (let i = 0; i < workerCount; i++) {\n      const worker = createWorker();\n      worker.onmessage = handleMessage(worker);\n      worker.onerror = (e) => {\n        workers.forEach(w => w.terminate());\n        reject(new Error(`Worker错误: ${e.message}`));\n      };\n\n      if (currentIndex < chunks.length) {\n        const chunk = chunks[currentIndex];\n        worker.postMessage(\n          { index: currentIndex, chunk },\n          [chunk]\n        );\n        currentIndex++;\n      }\n      workers.push(worker);\n    }\n  });\n};\n\n// 主函数修改\nexport const calculateHash = async (\n  file: File,\n  options: HashOptions = {}\n): Promise<string> => {\n  const {\n    chunkSize = 10 * 1024 * 1024,\n    useWorkerThreshold = 10 * 1024 * 1024,\n    onProgress\n  } = options;\n\n  const chunks = createChunks(file, chunkSize);\n  const fileName = file.name; // 获取原始文件名\n\n  // 包装进度回调\n  const progressHandler = (progress: Omit<ProgressData, 'name'>) => {\n    onProgress?.({\n      ...progress,\n      name: fileName\n    });\n  };\n\n  return file.size >= useWorkerThreshold \n    ? multiThreadHash(chunks, fileName, progressHandler)\n    : singleThreadHash(chunks, fileName, progressHandler);\n};\n\n// 批量计算保持不变..."],"names":["exports","hex_chr","md5cycle","x","k","a","b","c","d","md5blk","s","i","md5blks","charCodeAt","md5blk_array","md51","length","tail","tmp","lo","hi","n","state","substring","toString","match","parseInt","rhex","j","hex","join","toUtf8","str","test","unescape","encodeURIComponent","hexToBinaryString","bytes","push","substr","String","fromCharCode","apply","SparkMD5","this","reset","ArrayBuffer","prototype","slice","clamp","val","Math","max","min","from","to","num","target","targetArray","sourceArray","byteLength","begin","end","factory","Uint8Array","set","append","appendBinary","contents","_buff","_length","_hash","raw","ret","buff","_finish","getState","hash","setState","destroy","hashBinary","content","arr","first","second","result","buffer","subarray","call","utf8Str2ArrayBuffer","md51_array","createChunks","file","chunkSize","chunks","size","chunk","fileId","name","singleThreadHash","async","fileName","onProgress","spark","Promise","resolve","reader","FileReader","onload","e","readAsArrayBuffer","current","total","percent","toFixed","multiThreadHash","reject","workerCount","navigator","hardwareConcurrency","workers","currentIndex","processedChunks","handleMessage","worker","index","error","data","forEach","w","terminate","Error","postMessage","Worker","URL","createObjectURL","Blob","onmessage","onerror","message","options","useWorkerThreshold","progressHandler","progress"],"mappings":"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","x_google_ignoreList":[0]}